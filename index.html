<!DOCTYPE html>
<html>
<head>
    <title>E-Li$t Login</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
    <style>

.logo-container {
    padding: 40px 60px;
    border-radius: 15px;
    margin-bottom: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.logo-container img {
    max-width: 100%;
    max-height: 300px;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 8px;
}

/* Para telas menores */
@media (max-width: 768px) {
    .logo-container {
        padding: 20px 30px;
    }
    
    .logo-container img {
        max-height: 120px;
    }
}

/* Para telas muito pequenas */
@media (max-width: 480px) {
    .logo-container img {
        max-height: 100px;
    }
}
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #2a2a2a;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .navbar {
            background-color: #1a1a1a !important;
            padding: 15px 0;
            border-bottom: 1px solid #333;
        }

        .modoescuro img {
            width: 24px;
            height: 24px;
            filter: invert(1);
        }

        /* Main content */
        .main-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            background-color: #f5f5f5;
            color: #333;
        }

        .content-wrapper {
            display: flex;
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-height: 500px;
        }

        .left-section {
            flex: 1;
            background-color: #1a1a1a;
            padding: 60px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .logo-container {
            padding: 40px 60px;
            border-radius: 15px;
            border: 3px solid #9acd32;
            margin-bottom: 40px;
        }

        .logo-text {
            color: #1a1a1a;
            font-size: 48px;
            font-weight: bold;
            font-family: 'Monoton', cursive;
            text-align: center;
            line-height: 1;
        }

        .logo-subtitle {
            color: #1a1a1a;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 10px;
        }

        .description {
            color: white;
            font-size: 18px;
            line-height: 1.6;
            text-align: center;
            max-width: 400px;
        }

        .right-section {
            flex: 1;
            padding: 60px 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background-color: #f8f9fa;
        }

        .login-container {
            max-width: 350px;
            margin: 0 auto;
            width: 100%;
        }

        .login-title {
            text-align: center;
            margin-bottom: 40px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            background-color: #d0d0d0;
            color: #666;
            padding: 8px 15px;
            border-radius: 8px 8px 0 0;
            font-weight: 500;
            margin-bottom: 0;
        }

        .form-control {
            border: none;
            border-radius: 0 0 8px 8px;
            padding: 15px;
            font-size: 16px;
            background-color: white;
            border: 2px solid #d0d0d0;
            border-top: none;
            width: 100%;
        }

        .form-control:focus {
            outline: none;
            border-color: #9acd32;
            box-shadow: none;
        }

        .btn-login {
            width: 100%;
            padding: 15px;
            background-color: #d0d0d0;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            color: #666;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-login:hover {
            background-color: #9acd32;
            color: #333;
        }

        .btn-register {
            width: 100%;
            padding: 15px;
            background-color: #d0d0d0;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .btn-register:hover {
            background-color: #bbb;
        }

        /* Footer */
        footer {
            background-color: #1a1a1a;
            padding: 20px 0;
            text-align: center;
            border-top: 1px solid #333;
        }

        footer a {
            color: #9acd32;
            text-decoration: none;
            margin: 0 15px;
        }

        footer a:hover {
            color: white;
        }

        footer p {
            color: #ccc;
            margin: 10px 0 0 0;
            font-size: 14px;
        }

        /* Dark mode */
        .dark-mode {
            background-color: #1a1a1a;
        }

        .dark-mode .main-container {
            background-color: #2a2a2a;
        }

        .dark-mode .content-wrapper {
            background-color: #333;
        }

        .dark-mode .right-section {
            background-color: #444;
        }

        .dark-mode .login-title {
            color: white;
        }

        .dark-mode .form-control {
            background-color: #555;
            color: white;
            border-color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .content-wrapper {
                flex-direction: column;
                margin: 20px;
            }
            
            .left-section, .right-section {
                padding: 40px 20px;
            }
            
            .logo-container {
                padding: 30px 40px;
            }
            
            .logo-text {
                font-size: 36px;
            }
        }
    </style>
</head>
<body>
    <div id="parte1">
        <header>
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">            
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item"></li>
                            <li class="nav-item"></li>
                        </ul>
                        <li class="d-flex">                
                            <div class="modoescuro">
                                <a onclick="myFunction()"> 
                                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2zM12 20A8 8 0 1 1 20 12A8 8 0 0 1 12 20z'/%3E%3C/svg%3E" alt="Dark mode toggle">
                                </a>
                            </div>        
                        </li>
                    </div>
                </div>
            </nav>     
        </header>
    </div>

    <div class="main-container">
        <div class="content-wrapper">
            <div class="left-section">
                <div class="logo-container">
                    <img src="img/coopgologo.jpg"></img>
                </div>
                <div class="description">
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum Lorem ipsum Lorem ipsum
                    Lorem ipsum
                </div>
            </div>

            <div class="right-section">
                <div class="login-container">
                    <h2 class="login-title">Login</h2>
                    
                    <form id="login-form">
                        <div class="form-group">
                            <label class="form-label">Nome</label>
                            <input type="text" name="nome" id="nome" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Senha</label>
                            <input type="password" name="senha" id="senha" class="form-control">
                        </div>
                        
                        <button class="btn-login" type="submit">Entrar</button>
                        <button class="btn-register" type="button" onclick="window.location.href='cadastrodeusuario.html'">
                            Novo(a) por aqui? Crie sua conta!
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>            
        <p>COOPGO &copy; 2025 Copyright Todos os direitos reservados</p>
    </footer>

    <script>
        function myFunction() {
            var element = document.body;
            element.classList.toggle("dark-mode");
        }

        // Adicione um event listener ao formulário
        document.getElementById('login-form').addEventListener('submit', function (event) {
            event.preventDefault();
            realizarLogin();
        });

        function realizarLogin() {
            // Captura os valores dos inputs
            const nome = document.getElementById('nome').value;
            const senha = document.getElementById('senha').value;

            // Validação básica
            if (!nome || !senha) {
                alert('Por favor, preencha todos os campos.');
                return;
            }

            // Objeto com as credenciais
            const credenciais = {
                nome: nome,
                senha: senha
            };

            // Faz a requisição POST para verificar o login
            fetch('https://localhost:44344/api/App/VerificarLogin', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(credenciais)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    if (data.sucesso) {
                        // Login bem-sucedido
                        console.log('Login realizado com sucesso!');

                        // Armazena as informações do usuário no sessionStorage
                        sessionStorage.setItem('usuarioLogado', JSON.stringify({
                            id: data.usuario.id,
                            nome: data.usuario.nome
                        }));

                        alert('Login realizado com sucesso!');

                        // Redireciona para a página principal ou dashboard
                        window.location.href = 'dashboard.html'; // Ajuste para sua página principal
                    } else {
                        // Login falhou
                        alert('Nome de usuário ou senha incorretos.');
                    }
                })
                .catch(error => {
                    console.error('Erro ao realizar login:', error);
                    alert('Erro ao realizar login. Por favor, tente novamente.');
                });
        }

        // Função auxiliar para verificar se o usuário está logado
        function verificarUsuarioLogado() {
            const usuarioLogado = sessionStorage.getItem('usuarioLogado');
            return usuarioLogado ? JSON.parse(usuarioLogado) : null;
        }

        // Função para fazer logout
        function realizarLogout() {
            sessionStorage.removeItem('usuarioLogado');
            window.location.href = 'login.html';
        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>